<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>scale</title>
<style>
  .container {
    width: 800px;
    height: 400px;
    margin: 0 auto;
  }
  .pan, .box {
    width: 200px;
    height: 400px;
    border: 2px solid black;
    display: inline-block;
    background-color: white;
    vertical-align: top;
  }
  .ball {
    width: 50px;
    height: 50px;
    background-color: red;
    border-radius: 50%;
    margin: 10px;
    cursor: pointer;
    display: inline-block;
    text-align: center;
    line-height: 50px;
    color: white;
    font-size: 18px;
  }
  .result {
    font-size: 24px;
    font-weight: bold;
  }
</style>
</head>
<body>
<div class="container">
  <div class="pan" id="left-pan" ondrop="drop(event)" ondragover="allowDrop(event)">
    <h2>Left Pan</h2>
  </div>
  <div class="pan" id="right-pan" ondrop="drop(event)" ondragover="allowDrop(event)">
    <h2>Right Pan</h2>
  </div>
  <div class="box" id="third-box" ondrop="drop(event)" ondragover="allowDrop(event)">
    <div class="ball" draggable="true" ondragstart="drag(event)" id="ball1" data-weight="1">1</div>
    <div class="ball" draggable="true" ondragstart="drag(event)" id="ball2" data-weight="1">2</div>
    <div class="ball" draggable="true" ondragstart="drag(event)" id="ball3" data-weight="1">3</div>
    <div class="ball" draggable="true" ondragstart="drag(event)" id="ball4" data-weight="1">4</div>
    <div class="ball" draggable="true" ondragstart="drag(event)" id="ball5" data-weight="1">5</div>
    <div class="ball" draggable="true" ondragstart="drag(event)" id="ball6" data-weight="2">6</div>
    <div class="ball" draggable="true" ondragstart="drag(event)" id="ball7" data-weight="1">7</div>
    <div class="ball" draggable="true" ondragstart="drag(event)" id="ball8" data-weight="1">8</div>
  </div>
  <div class="box" id="fourth-box" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
  <div class="box" id="fifth-box" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
</div>
<div class="result" id="result"></div>

<script>
window.onload = function() {
    var balls = document.querySelectorAll(".ball");
    balls.forEach(function(ball) {
        ball.setAttribute("data-weight", "1");
        ball.innerText = ball.id.replace("ball", "");
    });


    var randomBallIndex = Math.floor(Math.random() * 8) + 1;
    var randomBall = document.getElementById("ball" + randomBallIndex);
    randomBall.setAttribute("data-weight", "2");
  };


  function reset() {
     location.reload(); 
  }
  function showAnswer() {
    var balls = document.querySelectorAll(".ball");
    var answer;
    balls.forEach(function(ball) {
      if (ball.getAttribute("data-weight") === "2") {
        answer = ball.innerText;
      }
    });

    alert("Correct answerï¼š" + answer);
  }


  function allowDrop(event) {
    event.preventDefault();
  }

  function drag(event) {
    event.dataTransfer.setData("text", event.target.id);
  }

  function drop(event) {
    event.preventDefault();
    var data = event.dataTransfer.getData("text");
    var target = event.target;

    if (target.classList.contains("ball")) {
      target.parentNode.appendChild(document.getElementById(data));
    } else {
      target.appendChild(document.getElementById(data));
    }

    updateBalance();
  }

  function updateBalance() {
    var leftPan = document.getElementById("left-pan");
    var rightPan = document.getElementById("right-pan");
    var result = document.getElementById("result");

    var leftWeight = calculateWeight(leftPan);
    var rightWeight = calculateWeight(rightPan);

    if (leftWeight === rightWeight) {
      leftPan.style.backgroundColor = rightPan.style.backgroundColor = "green";
      result.innerText = "balance";
    } else if (leftWeight > rightWeight) {
      leftPan.style.backgroundColor = "green";
      rightPan.style.backgroundColor = "white";
      result.innerText = "left down";
    } else {
      leftPan.style.backgroundColor = "white";
      rightPan.style.backgroundColor = "green";
      result.innerText = "right down";
    }
  }

  function calculateWeight(pan) {
    var balls = pan.querySelectorAll(".ball");
    var totalWeight = 0;
    balls.forEach(function(ball) {
      totalWeight += parseInt(ball.getAttribute("data-weight"));
    });
    return totalWeight;
  }
</script>
<button onclick="reset()">Reset</button>
<button onclick="showAnswer()">Show Answer</button>
</body>
</html>
